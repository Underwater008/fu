<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>福 — Fortune Gacha</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Liu+Jian+Mao+Cao&family=Ma+Shan+Zheng&family=Zhi+Mang+Xing&text=%E7%A6%8F%E7%A6%84%E5%AF%BF%E5%96%9C%E8%B4%A2%E5%AF%8C%E8%B4%B5%E5%8F%91%E9%87%91%E7%8E%89%E5%AE%9D%E4%BD%99%E4%B8%B0%E7%9B%9B%E5%88%A9%E6%97%BA%E9%9A%86%E6%98%8C%E5%85%B4%E8%BF%9B%E5%AE%89%E5%BA%B7%E5%AE%81%E6%B3%B0%E5%92%8C%E5%B9%B3%E9%A1%BA%E5%81%A5%E4%B9%90%E6%AC%A2%E5%BA%86%E7%A6%A7%E7%A5%BA%E5%98%89%E6%98%A5%E5%BE%B7%E5%96%84%E4%BB%81%E4%B9%89%E5%BF%A0%E4%BF%A1%E5%AD%9D%E6%85%A7%E6%81%A9%E7%88%B1%E5%90%88%E5%9C%86%E6%BB%A1%E7%BE%8E%E9%A6%A8%E9%9B%85%E5%90%89%E7%A5%A5%E7%91%9E%E5%A6%82%E6%84%8F%E7%A5%9D%E8%BF%90%E9%BE%99%E5%87%A4%E9%BA%9F%E9%B9%A4%E5%8D%8E%E6%88%90%E5%8D%87%E7%99%BB%E9%AB%98%C2%B7%E4%B8%80%E4%BA%BA%E5%8D%81%E5%A4%A7&display=swap">
    <link rel="stylesheet" href="https://unpkg.com/@chinese-fonts/cezkzdbs@3.0.0/dist/%E4%BB%93%E8%80%B3%E5%91%A8%E7%8F%82%E6%AD%A3%E5%A4%A7%E6%A6%9C%E4%B9%A6/result.css">
    <link rel="stylesheet" href="https://unpkg.com/@chinese-fonts/hlxsjt@3.0.0/dist/%E9%B8%BF%E9%9B%B7%E8%A1%8C%E4%B9%A6%E7%AE%80%E4%BD%93/result.css">
    <link rel="stylesheet" href="https://unpkg.com/@chinese-fonts/qtbfsxt@3.0.0/dist/%E5%8D%83%E5%9B%BE%E7%AC%94%E9%94%8B%E6%89%8B%E5%86%99%E4%BD%93/result.css">
    <link rel="stylesheet" href="https://unpkg.com/@chinese-fonts/ysbzt@3.0.0/dist/%E5%B3%84%E5%B1%B1%E7%A2%91%E7%AF%86%E4%BD%93/result.css">
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <canvas id="c"></canvas>

    <!-- Bottom Controls -->
    <div class="bottom-controls">
        <button id="btn-collection" class="collection-fab">COLLECTION</button>
        
        <div id="mode-switch" class="mode-switch">
            <div class="switch-track"></div>
            <div class="switch-option active" data-mode="single">×1</div>
            <div class="switch-option" data-mode="multi">×10</div>
        </div>
    </div>

    <!-- Multi-pull results overlay (legacy, hidden) -->
    <div id="multi-overlay">
        <div class="multi-title">十连结果</div>
        <div id="multi-grid" class="multi-grid"></div>
    </div>

    <!-- Multi-fortune floating action buttons -->
    <div class="multi-fortune-actions" id="multi-fortune-actions">
        <button class="btn-action" id="btn-reveal-all" style="display:none">全部翻开 Reveal All</button>
        <button class="btn-action" id="btn-multi-again" style="display:none">再来十连 ×10</button>
        <button class="btn-action" id="btn-multi-single" style="display:none">单抽一次</button>
        <button class="btn-action btn-secondary" id="btn-multi-collection" style="display:none">图鉴 Collection</button>
    </div>

    <!-- Multi-pull detail popup -->
    <div id="multi-detail">
        <div class="detail-card" id="detail-card">
            <div class="detail-tier" id="detail-tier"></div>
            <div class="detail-stars" id="detail-stars"></div>
            <div class="detail-category" id="detail-category"></div>
            <div class="detail-character" id="detail-character"></div>
            <div class="detail-divider"></div>
            <div class="detail-phrase" id="detail-phrase"></div>
            <div class="detail-english" id="detail-english"></div>
        </div>
    </div>

    <!-- Collection panel -->
    <div id="collection-panel">
        <div class="collection-header">
            <h1>COLLECTION</h1>
            <h2>图鉴</h2>
            <div id="collection-progress" class="collection-progress"></div>
        </div>
        <div id="collection-grid" class="collection-grid"></div>
        <div class="collection-actions">
            <button class="btn-action" id="btn-draw-from-collection">DRAW AGAIN</button>
            <button class="btn-action btn-secondary" id="btn-close-collection">CLOSE</button>
        </div>
    </div>

    <script type="module" src="./main.js"></script>
</body>
</html>
